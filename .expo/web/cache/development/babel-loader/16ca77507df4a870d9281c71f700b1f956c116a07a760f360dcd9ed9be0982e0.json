{"ast":null,"code":"import _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport * as FileSystem from 'expo-file-system';\nimport { logger, fileAsyncTransport } from 'react-native-logs';\nvar fileSystem = {\n  appendFile: function () {\n    var _appendFile = _asyncToGenerator(function* (filePath, data, encoding) {\n      try {\n        yield FileSystem.writeAsStringAsync(filePath, data, {\n          encoding: encoding,\n          append: true\n        });\n      } catch (error) {\n        console.error(\"Ошибка записи в файл:\", error);\n        throw error;\n      }\n    });\n    function appendFile(_x, _x2, _x3) {\n      return _appendFile.apply(this, arguments);\n    }\n    return appendFile;\n  }()\n};\nexport var log = logger.createLogger({\n  transport: fileAsyncTransport,\n  transportOptions: {\n    fileSystem: fileSystem,\n    fileName: 'log.txt',\n    fileSize: 512 * 1024,\n    formatter: function formatter(msg) {\n      return \"[\" + msg.date.toISOString() + \"] [\" + msg.type + \"] \" + msg.message;\n    }\n  }\n});","map":{"version":3,"names":["FileSystem","logger","fileAsyncTransport","fileSystem","appendFile","_appendFile","_asyncToGenerator","filePath","data","encoding","writeAsStringAsync","append","error","console","_x","_x2","_x3","apply","arguments","log","createLogger","transport","transportOptions","fileName","fileSize","formatter","msg","date","toISOString","type","message"],"sources":["C:/Users/12art/Desktop/konstruktors/EnglishApp_mobile_technology_courswork/logger.js"],"sourcesContent":["import * as FileSystem from 'expo-file-system';\r\nimport { logger, fileAsyncTransport } from 'react-native-logs';\r\n\r\nconst fileSystem = {\r\n  appendFile: async (filePath, data, encoding) => {\r\n    try {\r\n      // Используем writeAsStringAsync для добавления данных в файл\r\n      await FileSystem.writeAsStringAsync(filePath, data, { encoding: encoding, append: true });\r\n    } catch (error) {\r\n      console.error(\"Ошибка записи в файл:\", error);\r\n      throw error;\r\n    }\r\n  },\r\n};\r\n\r\nexport const log = logger.createLogger({\r\n  transport: fileAsyncTransport,\r\n  transportOptions: {\r\n    fileSystem: fileSystem,\r\n    fileName: 'log.txt',\r\n    fileSize: 512 * 1024, // Опционально: указываем максимальный размер файла\r\n    formatter: (msg) => `[${msg.date.toISOString()}] [${msg.type}] ${msg.message}`, // Опционально: форматирование логов\r\n  },\r\n});"],"mappings":";AAAA,OAAO,KAAKA,UAAU,MAAM,kBAAkB;AAC9C,SAASC,MAAM,EAAEC,kBAAkB,QAAQ,mBAAmB;AAE9D,IAAMC,UAAU,GAAG;EACjBC,UAAU;IAAA,IAAAC,WAAA,GAAAC,iBAAA,CAAE,WAAOC,QAAQ,EAAEC,IAAI,EAAEC,QAAQ,EAAK;MAC9C,IAAI;QAEF,MAAMT,UAAU,CAACU,kBAAkB,CAACH,QAAQ,EAAEC,IAAI,EAAE;UAAEC,QAAQ,EAAEA,QAAQ;UAAEE,MAAM,EAAE;QAAK,CAAC,CAAC;MAC3F,CAAC,CAAC,OAAOC,KAAK,EAAE;QACdC,OAAO,CAACD,KAAK,CAAC,uBAAuB,EAAEA,KAAK,CAAC;QAC7C,MAAMA,KAAK;MACb;IACF,CAAC;IAAA,SAAAR,WAAAU,EAAA,EAAAC,GAAA,EAAAC,GAAA;MAAA,OAAAX,WAAA,CAAAY,KAAA,OAAAC,SAAA;IAAA;IAAA,OAAAd,UAAA;EAAA;AACH,CAAC;AAED,OAAO,IAAMe,GAAG,GAAGlB,MAAM,CAACmB,YAAY,CAAC;EACrCC,SAAS,EAAEnB,kBAAkB;EAC7BoB,gBAAgB,EAAE;IAChBnB,UAAU,EAAEA,UAAU;IACtBoB,QAAQ,EAAE,SAAS;IACnBC,QAAQ,EAAE,GAAG,GAAG,IAAI;IACpBC,SAAS,EAAE,SAAAA,UAACC,GAAG;MAAA,aAASA,GAAG,CAACC,IAAI,CAACC,WAAW,EAAE,WAAMF,GAAG,CAACG,IAAI,UAAKH,GAAG,CAACI,OAAO;IAAA;EAC9E;AACF,CAAC,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}