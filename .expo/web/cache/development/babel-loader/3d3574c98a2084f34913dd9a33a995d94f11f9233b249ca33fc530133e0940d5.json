{"ast":null,"code":"import _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport { logger } from 'react-native-logs';\nfunction saveLogToIndexedDB(_x) {\n  return _saveLogToIndexedDB.apply(this, arguments);\n}\nfunction _saveLogToIndexedDB() {\n  _saveLogToIndexedDB = _asyncToGenerator(function* (logData) {\n    try {\n      var db = yield window.indexedDB.open('MyLogsDB', 1);\n      db.onupgradeneeded = function (event) {\n        var database = event.target.result;\n        if (!database.objectStoreNames.contains('logs')) {\n          var _objectStore = database.createObjectStore('logs', {\n            keyPath: 'id',\n            autoIncrement: true\n          });\n          _objectStore.createIndex('timestamp', 'timestamp', {\n            unique: false\n          });\n        }\n      };\n      var transaction = db.transaction(['logs'], 'readwrite');\n      var objectStore = transaction.objectStore('logs');\n      var request = objectStore.add(logData);\n      request.onsuccess = function () {\n        console.log('Log added to IndexedDB');\n      };\n      request.onerror = function (error) {\n        console.error('Error adding log to IndexedDB:', error);\n      };\n    } catch (error) {\n      console.error('IndexedDB error:', error);\n    }\n  });\n  return _saveLogToIndexedDB.apply(this, arguments);\n}\nvar logMessage = function logMessage(_ref) {\n  var level = _ref.level,\n    message = _ref.message;\n  console.log('Message received:', message);\n  saveLogToIndexedDB({\n    id: Date.now(),\n    level: level,\n    message: message,\n    timestamp: new Date().toISOString()\n  });\n};\nlogMessage({\n  level: 'info',\n  message: 'Test message'\n});\nexport var log = logger.createLogger({\n  logFunction: function logFunction() {\n    console.log('Message received:');\n  }\n});","map":{"version":3,"names":["logger","saveLogToIndexedDB","_x","_saveLogToIndexedDB","apply","arguments","_asyncToGenerator","logData","db","window","indexedDB","open","onupgradeneeded","event","database","target","result","objectStoreNames","contains","objectStore","createObjectStore","keyPath","autoIncrement","createIndex","unique","transaction","request","add","onsuccess","console","log","onerror","error","logMessage","_ref","level","message","id","Date","now","timestamp","toISOString","createLogger","logFunction"],"sources":["C:/Users/12art/Desktop/konstruktors/EnglishApp_mobile_technology_courswork/logger.js"],"sourcesContent":["import { logger } from 'react-native-logs';\r\n\r\nasync function saveLogToIndexedDB(logData) {\r\n  try {\r\n    const db = await window.indexedDB.open('MyLogsDB', 1);\r\n\r\n    db.onupgradeneeded = function (event) {\r\n      const database = event.target.result;\r\n      if (!database.objectStoreNames.contains('logs')) {\r\n        const objectStore = database.createObjectStore('logs', { keyPath: 'id', autoIncrement: true });\r\n        objectStore.createIndex('timestamp', 'timestamp', { unique: false });\r\n      }\r\n    };\r\n\r\n    const transaction = db.transaction(['logs'], 'readwrite');\r\n    const objectStore = transaction.objectStore('logs');\r\n\r\n    const request = objectStore.add(logData);\r\n\r\n    request.onsuccess = function () {\r\n      console.log('Log added to IndexedDB');\r\n    };\r\n\r\n    request.onerror = function (error) {\r\n      console.error('Error adding log to IndexedDB:', error);\r\n    };\r\n  } catch (error) {\r\n    console.error('IndexedDB error:', error);\r\n  }\r\n}\r\n\r\nconst logMessage = ({ level, message }) => {\r\n  console.log('Message received:', message);\r\n  saveLogToIndexedDB({ id: Date.now(), level, message, timestamp: new Date().toISOString() });\r\n};\r\n\r\nlogMessage({ level: 'info', message: 'Test message' });\r\n\r\nexport const log = logger.createLogger({\r\n  \r\n  logFunction: () => {\r\n    console.log('Message received:');\r\n  },\r\n  \r\n});\r\n"],"mappings":";AAAA,SAASA,MAAM,QAAQ,mBAAmB;AAAC,SAE5BC,kBAAkBA,CAAAC,EAAA;EAAA,OAAAC,mBAAA,CAAAC,KAAA,OAAAC,SAAA;AAAA;AAAA,SAAAF,oBAAA;EAAAA,mBAAA,GAAAG,iBAAA,CAAjC,WAAkCC,OAAO,EAAE;IACzC,IAAI;MACF,IAAMC,EAAE,SAASC,MAAM,CAACC,SAAS,CAACC,IAAI,CAAC,UAAU,EAAE,CAAC,CAAC;MAErDH,EAAE,CAACI,eAAe,GAAG,UAAUC,KAAK,EAAE;QACpC,IAAMC,QAAQ,GAAGD,KAAK,CAACE,MAAM,CAACC,MAAM;QACpC,IAAI,CAACF,QAAQ,CAACG,gBAAgB,CAACC,QAAQ,CAAC,MAAM,CAAC,EAAE;UAC/C,IAAMC,YAAW,GAAGL,QAAQ,CAACM,iBAAiB,CAAC,MAAM,EAAE;YAAEC,OAAO,EAAE,IAAI;YAAEC,aAAa,EAAE;UAAK,CAAC,CAAC;UAC9FH,YAAW,CAACI,WAAW,CAAC,WAAW,EAAE,WAAW,EAAE;YAAEC,MAAM,EAAE;UAAM,CAAC,CAAC;QACtE;MACF,CAAC;MAED,IAAMC,WAAW,GAAGjB,EAAE,CAACiB,WAAW,CAAC,CAAC,MAAM,CAAC,EAAE,WAAW,CAAC;MACzD,IAAMN,WAAW,GAAGM,WAAW,CAACN,WAAW,CAAC,MAAM,CAAC;MAEnD,IAAMO,OAAO,GAAGP,WAAW,CAACQ,GAAG,CAACpB,OAAO,CAAC;MAExCmB,OAAO,CAACE,SAAS,GAAG,YAAY;QAC9BC,OAAO,CAACC,GAAG,CAAC,wBAAwB,CAAC;MACvC,CAAC;MAEDJ,OAAO,CAACK,OAAO,GAAG,UAAUC,KAAK,EAAE;QACjCH,OAAO,CAACG,KAAK,CAAC,gCAAgC,EAAEA,KAAK,CAAC;MACxD,CAAC;IACH,CAAC,CAAC,OAAOA,KAAK,EAAE;MACdH,OAAO,CAACG,KAAK,CAAC,kBAAkB,EAAEA,KAAK,CAAC;IAC1C;EACF,CAAC;EAAA,OAAA7B,mBAAA,CAAAC,KAAA,OAAAC,SAAA;AAAA;AAED,IAAM4B,UAAU,GAAG,SAAbA,UAAUA,CAAAC,IAAA,EAA2B;EAAA,IAArBC,KAAK,GAAAD,IAAA,CAALC,KAAK;IAAEC,OAAO,GAAAF,IAAA,CAAPE,OAAO;EAClCP,OAAO,CAACC,GAAG,CAAC,mBAAmB,EAAEM,OAAO,CAAC;EACzCnC,kBAAkB,CAAC;IAAEoC,EAAE,EAAEC,IAAI,CAACC,GAAG,EAAE;IAAEJ,KAAK,EAALA,KAAK;IAAEC,OAAO,EAAPA,OAAO;IAAEI,SAAS,EAAE,IAAIF,IAAI,EAAE,CAACG,WAAW;EAAG,CAAC,CAAC;AAC7F,CAAC;AAEDR,UAAU,CAAC;EAAEE,KAAK,EAAE,MAAM;EAAEC,OAAO,EAAE;AAAe,CAAC,CAAC;AAEtD,OAAO,IAAMN,GAAG,GAAG9B,MAAM,CAAC0C,YAAY,CAAC;EAErCC,WAAW,EAAE,SAAAA,YAAA,EAAM;IACjBd,OAAO,CAACC,GAAG,CAAC,mBAAmB,CAAC;EAClC;AAEF,CAAC,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}