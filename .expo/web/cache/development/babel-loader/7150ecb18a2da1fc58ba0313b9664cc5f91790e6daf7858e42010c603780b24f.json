{"ast":null,"code":"import _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nvar saveLogToIndexedDB = function () {\n  var _ref = _asyncToGenerator(function* (logData) {\n    try {\n      var db = yield window.indexedDB.open('MyLogsDB', 1);\n      db.onerror = function (event) {\n        console.error('IndexedDB error:', event.target.errorCode);\n      };\n      db.onsuccess = function (event) {\n        var database = event.target.result;\n        var transaction = database.transaction(['logs'], 'readwrite');\n        var objectStore = transaction.objectStore('logs');\n        var request = objectStore.add(logData);\n        request.onsuccess = function () {\n          console.log('Log added to IndexedDB:', logData);\n        };\n        request.onerror = function (error) {\n          console.error('Error adding log to IndexedDB:', error);\n        };\n      };\n    } catch (error) {\n      console.error('IndexedDB error:', error);\n    }\n  });\n  return function saveLogToIndexedDB(_x) {\n    return _ref.apply(this, arguments);\n  };\n}();\nexport var log = function log(level, message) {\n  var timestamp = new Date().toLocaleTimeString();\n  console.log(\"LOG: \", timestamp + \"  |  \", \"[ \" + level + \" ]   |  \", message);\n  saveLogToIndexedDB({\n    id: Date.now(),\n    level: level,\n    message: message,\n    timestamp: new Date().toISOString()\n  });\n};","map":{"version":3,"names":["saveLogToIndexedDB","_ref","_asyncToGenerator","logData","db","window","indexedDB","open","onerror","event","console","error","target","errorCode","onsuccess","database","result","transaction","objectStore","request","add","log","_x","apply","arguments","level","message","timestamp","Date","toLocaleTimeString","id","now","toISOString"],"sources":["C:/Users/12art/Desktop/konstruktors/EnglishApp_mobile_technology_courswork/logger.js"],"sourcesContent":["//import { logger, fileAsyncTransport } from 'react-native-logs';\r\n\r\nconst saveLogToIndexedDB = async (logData) => {\r\n  try {\r\n    //creating database\r\n    const db = await window.indexedDB.open('MyLogsDB', 1);\r\n\r\n    db.onerror = function (event) {\r\n      console.error('IndexedDB error:', event.target.errorCode);\r\n    };\r\n    //database creation handler\r\n    db.onsuccess = function (event) {\r\n      const database = event.target.result;\r\n      const transaction = database.transaction(['logs'], 'readwrite');\r\n      const objectStore = transaction.objectStore('logs');\r\n\r\n      const request = objectStore.add(logData);\r\n\r\n      request.onsuccess = function () {\r\n        console.log('Log added to IndexedDB:', logData);\r\n      };\r\n\r\n      request.onerror = function (error) {\r\n        console.error('Error adding log to IndexedDB:', error);\r\n      };\r\n    };\r\n  } catch (error) {\r\n    console.error('IndexedDB error:', error);\r\n  }\r\n};\r\n\r\n\r\nexport const log = (level, message) => {\r\n  const timestamp = new Date().toLocaleTimeString();\r\n  console.log(\"LOG: \" ,timestamp + \"  |  \", \"[ \" + level + \" ]   |  \", message);\r\n  //saving logs to browser local DB\r\n  saveLogToIndexedDB({ id: Date.now(), level, message, timestamp: new Date().toISOString() });\r\n}\r\n\r\n\r\n//react native logging library that may be implemented in the feature if I will need to store logs for mobile apps with expo platform I guess\r\n/*const logging = logger.createLogger({\r\n  \r\n});*/"],"mappings":";AAEA,IAAMA,kBAAkB;EAAA,IAAAC,IAAA,GAAAC,iBAAA,CAAG,WAAOC,OAAO,EAAK;IAC5C,IAAI;MAEF,IAAMC,EAAE,SAASC,MAAM,CAACC,SAAS,CAACC,IAAI,CAAC,UAAU,EAAE,CAAC,CAAC;MAErDH,EAAE,CAACI,OAAO,GAAG,UAAUC,KAAK,EAAE;QAC5BC,OAAO,CAACC,KAAK,CAAC,kBAAkB,EAAEF,KAAK,CAACG,MAAM,CAACC,SAAS,CAAC;MAC3D,CAAC;MAEDT,EAAE,CAACU,SAAS,GAAG,UAAUL,KAAK,EAAE;QAC9B,IAAMM,QAAQ,GAAGN,KAAK,CAACG,MAAM,CAACI,MAAM;QACpC,IAAMC,WAAW,GAAGF,QAAQ,CAACE,WAAW,CAAC,CAAC,MAAM,CAAC,EAAE,WAAW,CAAC;QAC/D,IAAMC,WAAW,GAAGD,WAAW,CAACC,WAAW,CAAC,MAAM,CAAC;QAEnD,IAAMC,OAAO,GAAGD,WAAW,CAACE,GAAG,CAACjB,OAAO,CAAC;QAExCgB,OAAO,CAACL,SAAS,GAAG,YAAY;UAC9BJ,OAAO,CAACW,GAAG,CAAC,yBAAyB,EAAElB,OAAO,CAAC;QACjD,CAAC;QAEDgB,OAAO,CAACX,OAAO,GAAG,UAAUG,KAAK,EAAE;UACjCD,OAAO,CAACC,KAAK,CAAC,gCAAgC,EAAEA,KAAK,CAAC;QACxD,CAAC;MACH,CAAC;IACH,CAAC,CAAC,OAAOA,KAAK,EAAE;MACdD,OAAO,CAACC,KAAK,CAAC,kBAAkB,EAAEA,KAAK,CAAC;IAC1C;EACF,CAAC;EAAA,gBA3BKX,kBAAkBA,CAAAsB,EAAA;IAAA,OAAArB,IAAA,CAAAsB,KAAA,OAAAC,SAAA;EAAA;AAAA,GA2BvB;AAGD,OAAO,IAAMH,GAAG,GAAG,SAANA,GAAGA,CAAII,KAAK,EAAEC,OAAO,EAAK;EACrC,IAAMC,SAAS,GAAG,IAAIC,IAAI,EAAE,CAACC,kBAAkB,EAAE;EACjDnB,OAAO,CAACW,GAAG,CAAC,OAAO,EAAEM,SAAS,GAAG,OAAO,EAAE,IAAI,GAAGF,KAAK,GAAG,UAAU,EAAEC,OAAO,CAAC;EAE7E1B,kBAAkB,CAAC;IAAE8B,EAAE,EAAEF,IAAI,CAACG,GAAG,EAAE;IAAEN,KAAK,EAALA,KAAK;IAAEC,OAAO,EAAPA,OAAO;IAAEC,SAAS,EAAE,IAAIC,IAAI,EAAE,CAACI,WAAW;EAAG,CAAC,CAAC;AAC7F,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}