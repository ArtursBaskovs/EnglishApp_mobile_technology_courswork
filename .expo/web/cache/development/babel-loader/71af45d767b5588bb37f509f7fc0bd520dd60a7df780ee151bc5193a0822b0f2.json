{"ast":null,"code":"\"use strict\";\n\nvar __awaiter = this && this.__awaiter || function (thisArg, _arguments, P, generator) {\n  function adopt(value) {\n    return value instanceof P ? value : new P(function (resolve) {\n      resolve(value);\n    });\n  }\n  return new (P || (P = Promise))(function (resolve, reject) {\n    function fulfilled(value) {\n      try {\n        step(generator.next(value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n    function rejected(value) {\n      try {\n        step(generator[\"throw\"](value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n    function step(result) {\n      result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);\n    }\n    step((generator = generator.apply(thisArg, _arguments || [])).next());\n  });\n};\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.fileAsyncTransport = void 0;\nvar EXPOqueue = [];\nvar EXPOelaborate = false;\nvar EXPOFSreadwrite = function EXPOFSreadwrite() {\n  return __awaiter(void 0, void 0, void 0, function* () {\n    EXPOelaborate = true;\n    var item = EXPOqueue[0];\n    var prevFile = yield item.FS.readAsStringAsync(item.file);\n    var newMsg = prevFile + item.msg;\n    yield item.FS.writeAsStringAsync(item.file, newMsg);\n    EXPOelaborate = false;\n    EXPOqueue.shift();\n    if (EXPOqueue.length > 0) {\n      yield EXPOFSreadwrite();\n    }\n  });\n};\nvar EXPOcheckqueue = function EXPOcheckqueue(FS, file, msg) {\n  return __awaiter(void 0, void 0, void 0, function* () {\n    EXPOqueue.push({\n      FS: FS,\n      file: file,\n      msg: msg\n    });\n    if (!EXPOelaborate) {\n      yield EXPOFSreadwrite();\n    }\n  });\n};\nvar EXPOFSappend = function EXPOFSappend(FS, file, msg) {\n  return __awaiter(void 0, void 0, void 0, function* () {\n    try {\n      var fileInfo = yield FS.getInfoAsync(file);\n      if (!fileInfo.exists) {\n        yield FS.writeAsStringAsync(file, msg);\n        return true;\n      } else {\n        yield EXPOcheckqueue(FS, file, msg);\n        return true;\n      }\n    } catch (error) {\n      console.error(error);\n      return false;\n    }\n  });\n};\nvar RNFSappend = function RNFSappend(FS, file, msg) {\n  return __awaiter(void 0, void 0, void 0, function* () {\n    try {\n      yield FS.appendFile(file, msg, \"utf8\");\n      return true;\n    } catch (error) {\n      console.error(error);\n      return false;\n    }\n  });\n};\nvar fileAsyncTransport = function fileAsyncTransport(props) {\n  var _a, _b, _c;\n  if (!props) return false;\n  var WRITE;\n  var fileName = \"log\";\n  var filePath;\n  if (!((_a = props === null || props === void 0 ? void 0 : props.options) === null || _a === void 0 ? void 0 : _a.FS)) {\n    throw Error(\"react-native-logs: fileAsyncTransport - No FileSystem instance provided\");\n  }\n  if (props.options.FS.DocumentDirectoryPath && props.options.FS.appendFile) {\n    WRITE = RNFSappend;\n    filePath = props.options.FS.DocumentDirectoryPath;\n  } else if (props.options.FS.documentDirectory && props.options.FS.writeAsStringAsync && props.options.FS.readAsStringAsync && props.options.FS.getInfoAsync) {\n    WRITE = EXPOFSappend;\n    filePath = props.options.FS.documentDirectory;\n  } else {\n    throw Error(\"react-native-logs: fileAsyncTransport - FileSystem not supported\");\n  }\n  if ((_b = props === null || props === void 0 ? void 0 : props.options) === null || _b === void 0 ? void 0 : _b.fileName) {\n    var today = new Date();\n    var d = today.getDate();\n    var m = today.getMonth() + 1;\n    var y = today.getFullYear();\n    fileName = props.options.fileName;\n    fileName = fileName.replace(\"{date-today}\", d + \"-\" + m + \"-\" + y);\n  }\n  if ((_c = props === null || props === void 0 ? void 0 : props.options) === null || _c === void 0 ? void 0 : _c.filePath) filePath = props.options.filePath;\n  var output = (props === null || props === void 0 ? void 0 : props.msg) + \"\\n\";\n  var path = filePath + \"/\" + fileName;\n  WRITE(props.options.FS, path, output);\n};\nexports.fileAsyncTransport = fileAsyncTransport;","map":{"version":3,"names":["__awaiter","thisArg","_arguments","P","generator","adopt","value","resolve","Promise","reject","fulfilled","step","next","e","rejected","result","done","then","apply","Object","defineProperty","exports","fileAsyncTransport","EXPOqueue","EXPOelaborate","EXPOFSreadwrite","item","prevFile","FS","readAsStringAsync","file","newMsg","msg","writeAsStringAsync","shift","length","EXPOcheckqueue","push","EXPOFSappend","fileInfo","getInfoAsync","exists","error","console","RNFSappend","appendFile","props","_a","_b","_c","WRITE","fileName","filePath","options","Error","DocumentDirectoryPath","documentDirectory","today","Date","d","getDate","m","getMonth","y","getFullYear","replace","output","path"],"sources":["C:/Users/12art/Desktop/konstruktors/EnglishApp_mobile_technology_courswork/node_modules/react-native-logs/dist/transports/fileAsyncTransport.js"],"sourcesContent":["\"use strict\";\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.fileAsyncTransport = void 0;\nlet EXPOqueue = [];\nlet EXPOelaborate = false;\nconst EXPOFSreadwrite = () => __awaiter(void 0, void 0, void 0, function* () {\n    EXPOelaborate = true;\n    const item = EXPOqueue[0];\n    const prevFile = yield item.FS.readAsStringAsync(item.file);\n    const newMsg = prevFile + item.msg;\n    yield item.FS.writeAsStringAsync(item.file, newMsg);\n    EXPOelaborate = false;\n    EXPOqueue.shift();\n    if (EXPOqueue.length > 0) {\n        yield EXPOFSreadwrite();\n    }\n});\nconst EXPOcheckqueue = (FS, file, msg) => __awaiter(void 0, void 0, void 0, function* () {\n    EXPOqueue.push({ FS, file, msg });\n    if (!EXPOelaborate) {\n        yield EXPOFSreadwrite();\n    }\n});\nconst EXPOFSappend = (FS, file, msg) => __awaiter(void 0, void 0, void 0, function* () {\n    try {\n        const fileInfo = yield FS.getInfoAsync(file);\n        if (!fileInfo.exists) {\n            yield FS.writeAsStringAsync(file, msg);\n            return true;\n        }\n        else {\n            yield EXPOcheckqueue(FS, file, msg);\n            return true;\n        }\n    }\n    catch (error) {\n        console.error(error);\n        return false;\n    }\n});\nconst RNFSappend = (FS, file, msg) => __awaiter(void 0, void 0, void 0, function* () {\n    try {\n        yield FS.appendFile(file, msg, \"utf8\");\n        return true;\n    }\n    catch (error) {\n        console.error(error);\n        return false;\n    }\n});\nconst fileAsyncTransport = (props) => {\n    var _a, _b, _c;\n    if (!props)\n        return false;\n    let WRITE;\n    let fileName = \"log\";\n    let filePath;\n    if (!((_a = props === null || props === void 0 ? void 0 : props.options) === null || _a === void 0 ? void 0 : _a.FS)) {\n        throw Error(`react-native-logs: fileAsyncTransport - No FileSystem instance provided`);\n    }\n    if (props.options.FS.DocumentDirectoryPath && props.options.FS.appendFile) {\n        WRITE = RNFSappend;\n        filePath = props.options.FS.DocumentDirectoryPath;\n    }\n    else if (props.options.FS.documentDirectory &&\n        props.options.FS.writeAsStringAsync &&\n        props.options.FS.readAsStringAsync &&\n        props.options.FS.getInfoAsync) {\n        WRITE = EXPOFSappend;\n        filePath = props.options.FS.documentDirectory;\n    }\n    else {\n        throw Error(`react-native-logs: fileAsyncTransport - FileSystem not supported`);\n    }\n    if ((_b = props === null || props === void 0 ? void 0 : props.options) === null || _b === void 0 ? void 0 : _b.fileName) {\n        let today = new Date();\n        let d = today.getDate();\n        let m = today.getMonth() + 1;\n        let y = today.getFullYear();\n        fileName = props.options.fileName;\n        fileName = fileName.replace(\"{date-today}\", `${d}-${m}-${y}`);\n    }\n    if ((_c = props === null || props === void 0 ? void 0 : props.options) === null || _c === void 0 ? void 0 : _c.filePath)\n        filePath = props.options.filePath;\n    let output = `${props === null || props === void 0 ? void 0 : props.msg}\\n`;\n    var path = filePath + \"/\" + fileName;\n    WRITE(props.options.FS, path, output);\n};\nexports.fileAsyncTransport = fileAsyncTransport;\n"],"mappings":"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"},"metadata":{},"sourceType":"script","externalDependencies":[]}