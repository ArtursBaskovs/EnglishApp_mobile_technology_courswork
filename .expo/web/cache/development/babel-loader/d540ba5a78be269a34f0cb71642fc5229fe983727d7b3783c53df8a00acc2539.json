{"ast":null,"code":"import _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nexport function log(_x) {\n  return _log.apply(this, arguments);\n}\nfunction _log() {\n  _log = _asyncToGenerator(function* (logData) {\n    try {\n      var db = yield window.indexedDB.open('MyLogsDB', 1);\n      db.onupgradeneeded = function (event) {\n        var database = event.target.result;\n        if (!database.objectStoreNames.contains('logs')) {\n          var _objectStore = database.createObjectStore('logs', {\n            keyPath: 'id',\n            autoIncrement: true\n          });\n          _objectStore.createIndex('timestamp', 'timestamp', {\n            unique: false\n          });\n        }\n      };\n      var transaction = db.transaction(['logs'], 'readwrite');\n      var objectStore = transaction.objectStore('logs');\n      var request = objectStore.add(logData);\n      request.onsuccess = function () {\n        console.log('Log added to IndexedDB');\n      };\n      request.onerror = function (error) {\n        console.error('Error adding log to IndexedDB:', error);\n      };\n    } catch (error) {\n      console.error('IndexedDB error:', error);\n    }\n  });\n  return _log.apply(this, arguments);\n}","map":{"version":3,"names":["log","_x","_log","apply","arguments","_asyncToGenerator","logData","db","window","indexedDB","open","onupgradeneeded","event","database","target","result","objectStoreNames","contains","objectStore","createObjectStore","keyPath","autoIncrement","createIndex","unique","transaction","request","add","onsuccess","console","onerror","error"],"sources":["C:/Users/12art/Desktop/konstruktors/EnglishApp_mobile_technology_courswork/logger.js"],"sourcesContent":["// Функция для сохранения логов в IndexedDB\r\nexport async function log(logData) {\r\n  try {\r\n    const db = await window.indexedDB.open('MyLogsDB', 1);\r\n\r\n    db.onupgradeneeded = function (event) {\r\n      const database = event.target.result;\r\n      if (!database.objectStoreNames.contains('logs')) {\r\n        const objectStore = database.createObjectStore('logs', { keyPath: 'id', autoIncrement: true });\r\n        objectStore.createIndex('timestamp', 'timestamp', { unique: false });\r\n      }\r\n    };\r\n\r\n    const transaction = db.transaction(['logs'], 'readwrite');\r\n    const objectStore = transaction.objectStore('logs');\r\n\r\n    const request = objectStore.add(logData);\r\n\r\n    request.onsuccess = function () {\r\n      console.log('Log added to IndexedDB');\r\n    };\r\n\r\n    request.onerror = function (error) {\r\n      console.error('Error adding log to IndexedDB:', error);\r\n    };\r\n  } catch (error) {\r\n    console.error('IndexedDB error:', error);\r\n  }\r\n}\r\n"],"mappings":";AACA,gBAAsBA,GAAGA,CAAAC,EAAA;EAAA,OAAAC,IAAA,CAAAC,KAAA,OAAAC,SAAA;AAAA;AA2BxB,SAAAF,KAAA;EAAAA,IAAA,GAAAG,iBAAA,CA3BM,WAAmBC,OAAO,EAAE;IACjC,IAAI;MACF,IAAMC,EAAE,SAASC,MAAM,CAACC,SAAS,CAACC,IAAI,CAAC,UAAU,EAAE,CAAC,CAAC;MAErDH,EAAE,CAACI,eAAe,GAAG,UAAUC,KAAK,EAAE;QACpC,IAAMC,QAAQ,GAAGD,KAAK,CAACE,MAAM,CAACC,MAAM;QACpC,IAAI,CAACF,QAAQ,CAACG,gBAAgB,CAACC,QAAQ,CAAC,MAAM,CAAC,EAAE;UAC/C,IAAMC,YAAW,GAAGL,QAAQ,CAACM,iBAAiB,CAAC,MAAM,EAAE;YAAEC,OAAO,EAAE,IAAI;YAAEC,aAAa,EAAE;UAAK,CAAC,CAAC;UAC9FH,YAAW,CAACI,WAAW,CAAC,WAAW,EAAE,WAAW,EAAE;YAAEC,MAAM,EAAE;UAAM,CAAC,CAAC;QACtE;MACF,CAAC;MAED,IAAMC,WAAW,GAAGjB,EAAE,CAACiB,WAAW,CAAC,CAAC,MAAM,CAAC,EAAE,WAAW,CAAC;MACzD,IAAMN,WAAW,GAAGM,WAAW,CAACN,WAAW,CAAC,MAAM,CAAC;MAEnD,IAAMO,OAAO,GAAGP,WAAW,CAACQ,GAAG,CAACpB,OAAO,CAAC;MAExCmB,OAAO,CAACE,SAAS,GAAG,YAAY;QAC9BC,OAAO,CAAC5B,GAAG,CAAC,wBAAwB,CAAC;MACvC,CAAC;MAEDyB,OAAO,CAACI,OAAO,GAAG,UAAUC,KAAK,EAAE;QACjCF,OAAO,CAACE,KAAK,CAAC,gCAAgC,EAAEA,KAAK,CAAC;MACxD,CAAC;IACH,CAAC,CAAC,OAAOA,KAAK,EAAE;MACdF,OAAO,CAACE,KAAK,CAAC,kBAAkB,EAAEA,KAAK,CAAC;IAC1C;EACF,CAAC;EAAA,OAAA5B,IAAA,CAAAC,KAAA,OAAAC,SAAA;AAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}